!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";var n={from:0,to:0,runningInterval:null,stepInterval:null,stepCount:null,stepUnit:null,format:"%counter%",class:"numinate",precision:0,autoStart:!0,autoRemove:!1,onCreate:null,onStart:null,onStep:null,onStop:null,onComplete:null,onRemove:null},i=function(t,n){if(!n.runningInterval&&!n.stepInterval)return window.console.error("No interval was provided.");var i=Math.abs(n.from-n.to);if(!n.stepCount&&!n.stepUnit)return window.console.error("Provide either stepCount or stepUnit value.");if(n.stepUnit&&n.stepCount&&(n.to=n.from+n.stepUnit*n.stepCount),n.stepCount||(n.stepCount=i/n.stepUnit),n.stepUnit||(n.stepUnit=i/n.stepCount),n.runningInterval&&(n.stepInterval=n.runningInterval/n.stepCount),i&&n.stepUnit>i&&(n.stepUnit=i,n.stepCount=1),n.stepInterval<10){var e=10/n.stepInterval;n.stepInterval*=e,n.stepUnit*=e,n.stepCount/=e}this.textBackup=t.text(),this.element=t,this.options=n,this.stepper=null,this.current=n.from,this.finished=!1,this.element.addClass(n.class),this.fire("onCreate"),this.options.autoStart&&this.start()};i.prototype={constructor:i,fire:function(n){t.isFunction(this.options[n])&&this.options[n](this.element,this.options,this.current)},stop:function(){this.stepper&&!this.finished&&(this.stepper=clearInterval(this.stepper),this.fire("onStop"))},start:function(){!this.stepper&&!this.finished&&(this.render(),this.stepper=setInterval(t.proxy(this.step,this),this.options.stepInterval),this.fire("onStart"))},step:function(){if(this.options.from+this.options.to?this.options.from<this.options.to?this.current+=this.options.stepUnit:this.options.from>this.options.to&&(this.current-=this.options.stepUnit):this.current+=this.options.stepUnit,this.options.from<this.options.to){if(this.current>this.options.to)return this.completed()}else if(this.options.from>this.options.to&&this.current<this.options.to)return this.completed();this.fire("onStep"),this.render()},completed:function(){Math.abs(this.options.from-this.options.to)&&this.options.current!==this.options.to&&(this.current=this.options.to,this.render()),this.stop(),this.finished=!0,this.fire("onComplete"),this.options.autoRemove&&this.remove()},remove:function(){this.fire("onRemove"),t.removeData(this.element,"numinate"),this.element.text(this.textBackup?this.textBackup:""),this.element.removeClass(this.options.class)},render:function(){this.element.text(this.options.format.replace(/\%counter\%/,this.current.toFixed(this.options.precision)))},restart:function(){this.finished=!1,this.current=this.options.from,this.stop(),this.start()}},t.fn.numinate=function(e){var s;return"object"==typeof e?(e=t.extend(!0,{},n,e),s="init"):"string"==typeof e&&(s=e),this.each(function(){var n=t(this);"init"==s?n.data("numinate",new i(n,e)):n.data("numinate")[s]()})},t.fn.numinate.defaults=n,t.fn.numinate.Plugin=i});